---
title: SVG Morph
description: Smooth SVG path morphing animations with auto-looping and controlled step mode.
maintainers: ['alejopequeno']
docLinks:
  - label: 'Flubber'
    href: 'https://github.com/veltman/flubber'
  - label: 'Motion'
    href: 'https://motion.dev/'
---

import { ComponentPreview } from '@/components/preview/component-preview'

<ComponentPreview name="svg-morph-demo" />

## Installation

```bash
npx shadcn@latest add @joyco/svg-morph
```

## Usage

```tsx
import SvgMorph from '@/components/svg-morph'

const eyeOpen = 'M5830 13965 c-607 -95 ...'
const eyeArc = 'M6151 14709 c-531 -59 ...'
const mouth = 'M5220 7725 c-267 -162 ...'

<SvgMorph
  viewBox="0 0 2048 2048"
  width={256}
  height={256}
  transform="translate(0,2048) scale(0.1,-0.1)"
  duration={0.6}
  gap={1.5}
  staticPaths={[
    { d: faceOutline, fill: 'currentColor' },
  ]}
  svgs={[
    {
      paths: [eyeOpen, eyeArc],
      fill: 'currentColor',
    },
    {
      paths: [mouth],
      fill: 'currentColor',
    },
  ]}
/>
```

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `svgs` | `{ paths: string[]; fill?: string }[]` | Required | Array of morph slots. Each slot has a `paths` array with the SVG path `d` strings to cycle through, and an optional `fill` color. |
| `staticPaths` | `{ d: string; fill?: string }[]` | `undefined` | Paths rendered without animation. Useful for compound paths, fixed outlines, or elements that should not morph. |
| `viewBox` | `string` | Required | The SVG `viewBox` attribute (e.g. `"0 0 2048 2048"`). Defines the coordinate system for all paths. |
| `transform` | `string` | `undefined` | An SVG transform string applied to a `<g>` wrapper around all children. Useful when paths come from a different coordinate system (e.g. PostScript with inverted Y-axis). |
| `duration` | `number` | `0.4` | Duration of each morph transition in seconds. |
| `gap` | `number` | `0.5` | Pause between transitions in seconds. |
| `className` | `string` | `undefined` | CSS class applied to the root `<svg>` element. |
| `width` | `number \| string` | `undefined` | Width of the `<svg>` element. |
| `height` | `number \| string` | `undefined` | Height of the `<svg>` element. |
| `step` | `number` | `undefined` | When provided, switches to controlled mode. The morph animates to the given step index instead of auto-looping. |

## Auto-Looping

You only need to provide the distinct states. The component internally appends the first path to create a seamless cycle:

```
paths = [A, B, C]
internal sequence = A → B → C → A → B → C → ...
```

## Controlled Mode

Pass a `step` prop to disable auto-looping and control which state is displayed. The component morphs to the target step on each change.

<ComponentPreview name="svg-morph-controlled-demo" />

Use the `useSvgMorph` hook (installed alongside the component) to manage step state:

```tsx
import SvgMorph from '@/components/svg-morph'
import { useSvgMorph } from '@/hooks/use-svg-morph'

const STEPS = ['Neutral', 'Smile', 'Big Smile']

function ControlledExample() {
  const { step, setStep, next, prev, isFirst, isLast } = useSvgMorph({
    totalSteps: STEPS.length,
  })

  return (
    <>
      <SvgMorph
        viewBox="0 0 2048 2048"
        width={256}
        height={256}
        duration={0.5}
        step={step}
        svgs={[
          { paths: [pathA1, pathA2, pathA3] },
          { paths: [pathB1, pathB2, pathB3] },
        ]}
      />
      <div>
        <button onClick={prev} disabled={isFirst}>Prev</button>
        {STEPS.map((label, i) => (
          <button key={label} onClick={() => setStep(i)}>
            {label}
          </button>
        ))}
        <button onClick={next} disabled={isLast}>Next</button>
      </div>
    </>
  )
}
```

### `useSvgMorph` Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `totalSteps` | `number` | Required | Total number of morph steps (should match the length of each `paths` array). |
| `initialStep` | `number` | `0` | The step to start on. |

### `useSvgMorph` Return

| Value | Type | Description |
|-------|------|-------------|
| `step` | `number` | Current step index. |
| `setStep` | `(step: number) => void` | Jump to a specific step (clamped to valid range). |
| `next` | `() => void` | Go to the next step. |
| `prev` | `() => void` | Go to the previous step. |
| `isFirst` | `boolean` | Whether the current step is the first one. |
| `isLast` | `boolean` | Whether the current step is the last one. |

## Limitations

- **Fill only** — Flubber operates on filled regions. Convert strokes to outlined paths first.
- **No compound paths** — Paths with multiple sub-paths (holes, cutouts) break flubber. Place those in `staticPaths` instead.
- **Synchronized timing** — All morph slots share the same `duration` and `gap`.
