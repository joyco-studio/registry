{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "scroll-area",
  "type": "registry:component",
  "title": "Scroll Area",
  "description": "A scrollable area component with customizable top and bottom shadows that appear when content overflows.",
  "files": [
    {
      "path": "registry/joyco/blocks/scroll-area.tsx",
      "content": "'use client';\n\nimport * as React from 'react';\nimport { Presence } from '@radix-ui/react-presence';\nimport { cn } from '@/lib/utils';\n\ninterface ScrollAreaContextValue {\n  scrollRef: React.RefObject<HTMLDivElement | null>;\n  hasScroll: boolean;\n}\n\nconst ScrollAreaContext = React.createContext<ScrollAreaContextValue | null>(null);\n\nfunction useScrollAreaContext() {\n  const ctx = React.useContext(ScrollAreaContext);\n  if (!ctx) {\n    throw new Error('ScrollArea components must be used within ScrollArea Root');\n  }\n  return ctx;\n}\n\ninterface ScrollAreaRootProps extends React.ComponentProps<'div'> {\n  topShadowGradient?: string;\n  bottomShadowGradient?: string;\n}\n\n/**\n * Root component for the ScrollArea component. (Basic layout that adds a wrapper and shadows handlers)\n * @example\n * ```tsx\n * import ScrollArea from '@/registry/joyco/blocks/scroll-area';\n * ```\n * @example\n * ```tsx\n * <ScrollArea.Root>\n *   <ScrollArea.Content>\n *     <div>Content here</div>\n *   </ScrollArea.Content>\n * </ScrollArea.Root>\n */\nexport const ScrollAreaRoot = React.forwardRef<HTMLDivElement, ScrollAreaRootProps>(\n  ({ className, children, topShadowGradient, bottomShadowGradient, ...props }, ref) => {\n    const scrollRef = React.useRef<HTMLDivElement>(null);\n    const [hasScrollTop, setHasScrollTop] = React.useState(false);\n    const [hasScrollBottom, setHasScrollBottom] = React.useState(false);\n\n    const update = React.useCallback(() => {\n      const el = scrollRef.current;\n      if (!el) return;\n\n      const scrollY = el.scrollTop;\n      const scrollHeight = el.scrollHeight;\n      const clientHeight = el.clientHeight;\n\n      const newHasScrollTop = scrollY > 0;\n      const newHasScrollBottom = scrollY + clientHeight < scrollHeight;\n\n      setHasScrollTop(newHasScrollTop);\n      setHasScrollBottom(newHasScrollBottom);\n    }, []);\n\n    // scroll event, resize observer, and mutation observer\n    React.useEffect(() => {\n      const el = scrollRef.current;\n      if (!el) return;\n\n      // scroll event handler` (detects the scroll event)\n      const handleScroll = () => requestAnimationFrame(update);\n      el.addEventListener('scroll', handleScroll, { passive: true });\n\n      // resize observer (detects when the container size changes)\n      const ro = new ResizeObserver(update);\n      ro.observe(el);\n\n      // mutation observer (detects when the children of the container change)\n      const mo = new MutationObserver(update);\n      mo.observe(el, { childList: true });\n\n      update();\n\n      return () => {\n        el.removeEventListener('scroll', handleScroll);\n        ro.disconnect();\n        mo.disconnect();\n      };\n    }, [update]);\n\n    const hasScroll = hasScrollTop || hasScrollBottom;\n\n    const ctxValue = React.useMemo(\n      () => ({\n        scrollRef,\n        hasScroll,\n      }),\n      [hasScroll]\n    );\n\n    return (\n      <ScrollAreaContext.Provider value={ctxValue}>\n        <div\n          ref={ref}\n          className={cn('group/scroll-area relative overflow-hidden', className)}\n          data-has-scroll={hasScroll}\n          data-scroll-top={hasScrollTop}\n          data-scroll-bottom={hasScrollBottom}\n          {...props}\n        >\n          {children}\n\n          {/* Top Shadow */}\n          <Presence present={hasScrollTop}>\n            <div\n              data-state={hasScrollTop ? 'open' : 'closed'}\n              className={cn(\n                'pointer-events-none absolute inset-x-0 top-0 z-20 h-8',\n                'data-[state=open]:animate-in data-[state=closed]:animate-out',\n                'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n                'data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2',\n                'duration-300 ease-out',\n                topShadowGradient || 'bg-linear-to-b from-background to-transparent'\n              )}\n            />\n          </Presence>\n\n          {/* Bottom Shadow */}\n          <Presence present={hasScrollBottom}>\n            <div\n              data-state={hasScrollBottom ? 'open' : 'closed'}\n              className={cn(\n                'pointer-events-none absolute inset-x-0 bottom-0 z-20 h-8',\n                'data-[state=open]:animate-in data-[state=closed]:animate-out',\n                'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n                'data-[state=closed]:slide-out-to-bottom-2 data-[state=open]:slide-in-from-bottom-2',\n                'duration-300 ease-out',\n                bottomShadowGradient || 'bg-linear-to-t from-background to-transparent'\n              )}\n            />\n          </Presence>\n        </div>\n      </ScrollAreaContext.Provider>\n    );\n  }\n);\nScrollAreaRoot.displayName = 'ScrollAreaRoot';\n\ninterface ScrollAreaContentProps extends React.ComponentProps<'div'> {}\n\n/**\n * Content component for the ScrollArea component. (It contains the scrollable content.)\n * @example\n * ```tsx\n * import ScrollArea from '@/registry/joyco/blocks/scroll-area';\n * ```\n * @example\n * ```tsx\n * <ScrollArea.Content>\n *   <div>Content here</div>\n * </ScrollArea.Content>\n */\nexport const ScrollAreaContent = React.forwardRef<HTMLDivElement, ScrollAreaContentProps>(\n  ({ className, children, ...props }, ref) => {\n    const { scrollRef } = useScrollAreaContext();\n\n    const combinedRef = React.useCallback(\n      (node: HTMLDivElement | null) => {\n        scrollRef.current = node;\n        if (typeof ref === 'function') ref(node);\n        else if (ref) (ref as any).current = node;\n      },\n      [ref, scrollRef]\n    );\n\n    return (\n      <div\n        ref={combinedRef}\n        className={cn(\n          'absolute inset-0 overflow-y-auto [scrollbar-gutter:stable] [scrollbar-width:thin] [scrollbar-color:hsl(0_0%_50%)]',\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nScrollAreaContent.displayName = 'ScrollAreaContent';\n\n/**\n * Default export for the ScrollArea component.\n * @example\n * ```tsx\n * import ScrollArea from '@/registry/joyco/blocks/scroll-area';\n * ```\n *\n * @example\n * ```tsx\n * <ScrollArea.Root>\n *   <ScrollArea.Content>\n *     <div>Content here</div>\n *   </ScrollArea.Content>\n * </ScrollArea.Root>\n */\nconst ScrollArea = Object.assign(\n  {},\n  {\n    Root: ScrollAreaRoot,\n    Content: ScrollAreaContent,\n  }\n);\n\nexport default ScrollArea;\n",
      "type": "registry:component"
    }
  ]
}