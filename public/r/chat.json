{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "chat",
  "type": "registry:component",
  "title": "Chat Input",
  "description": "A composable chat input component with multiline support.",
  "registryDependencies": [
    "button",
    "input",
    "textarea"
  ],
  "files": [
    {
      "path": "registry/joyco/blocks/chat.tsx",
      "content": "import { ArrowUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\nimport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupInput,\n  InputGroupTextarea,\n} from '@/components/ui/input-group'\n\ntype ChatMessageVariant = 'self' | 'peer' | 'system'\n\n/* -------------------------------------------------------------------------------------------------\n * ChatViewport\n * -------------------------------------------------------------------------------------------------*/\n\nexport function ChatViewport({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      className={cn(\n        'bg-muted/40 border-border flex overflow-y-auto rounded-lg border px-4',\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\n/* -------------------------------------------------------------------------------------------------\n * ChatMessages\n * -------------------------------------------------------------------------------------------------*/\n\nexport function ChatMessages({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return <div className={cn('h-max', className)} {...props} />\n}\n\n/* -------------------------------------------------------------------------------------------------\n * ChatMessage\n * -------------------------------------------------------------------------------------------------*/\n\ntype ChatMessageProps = React.ComponentProps<'div'> & {\n  variant?: ChatMessageVariant\n}\n\nexport function ChatMessage({\n  className,\n  variant = 'self',\n  ...props\n}: ChatMessageProps) {\n  return (\n    <div\n      data-variant={variant}\n      className={cn(\n        'flex my-3',\n        variant === 'self' ? 'justify-end' : 'justify-start',\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\n/* -------------------------------------------------------------------------------------------------\n * ChatMessageBubble\n * -------------------------------------------------------------------------------------------------*/\n\ntype ChatMessageBubbleProps = React.ComponentProps<'div'> & {\n  variant?: ChatMessageVariant\n}\n\nexport function ChatMessageBubble({\n  className,\n  variant = 'self',\n  ...props\n}: ChatMessageBubbleProps) {\n  return (\n    <div\n      data-variant={variant}\n      className={cn(\n        'max-w-[80%] rounded-2xl px-4 py-2 text-sm',\n        variant === 'self'\n          ? 'bg-primary text-primary-foreground'\n          : 'bg-muted text-foreground',\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\n/* -------------------------------------------------------------------------------------------------\n * ChatMessageTime\n * -------------------------------------------------------------------------------------------------*/\n\nexport function ChatMessageTime({\n  className,\n  ...props\n}: React.ComponentProps<'time'>) {\n  return (\n    <time\n      className={cn('text-muted-foreground text-xs', className)}\n      {...props}\n    />\n  )\n}\n\n/* -------------------------------------------------------------------------------------------------\n * ChatInputArea\n * -------------------------------------------------------------------------------------------------*/\n\nexport function ChatInputArea({\n  className,\n  ...props\n}: React.ComponentProps<typeof InputGroup>) {\n  return (\n    <InputGroup\n      className={cn('h-auto items-end rounded-3xl', className)}\n      {...props}\n    />\n  )\n}\n\ntype TextareaProps = Omit<\n  React.ComponentProps<typeof InputGroupTextarea>,\n  'multiline'\n>\ntype InputProps = Omit<\n  React.ComponentProps<typeof InputGroupInput>,\n  'multiline'\n>\n\ntype ChatInputProps = { multiline: boolean } & (TextareaProps | InputProps)\n\nexport function ChatInputField({\n  className,\n  multiline,\n  ...rest\n}: ChatInputProps) {\n  if (multiline) {\n    return (\n      <InputGroupTextarea\n        className={cn(\n          'no-scrollbar field-sizing-content max-h-60 min-h-[1em] pl-6 text-base',\n          className\n        )}\n        {...(rest as TextareaProps)}\n      />\n    )\n  }\n\n  return (\n    <InputGroupInput\n      className={cn('h-auto min-h-[1em] py-3 pl-6 text-base', className)}\n      {...(rest as InputProps)}\n    />\n  )\n}\n\nexport function ChatInputSubmit({\n  className,\n  ...props\n}: React.ComponentProps<typeof InputGroupButton>) {\n  return (\n    <InputGroupAddon align=\"inline-end\" className={className}>\n      <InputGroupButton\n        variant=\"default\"\n        type=\"submit\"\n        className=\"rounded-full\"\n        size=\"icon-sm\"\n        {...props}\n      >\n        <ArrowUpIcon />\n        <span className=\"sr-only\">Send</span>\n      </InputGroupButton>\n    </InputGroupAddon>\n  )\n}\n",
      "type": "registry:component"
    },
    {
      "path": "components/ui/input-group.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nfunction InputGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"input-group\"\n      role=\"group\"\n      className={cn(\n        \"group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none\",\n        \"h-9 min-w-0 has-[>textarea]:h-auto\",\n\n        // Variants based on alignment.\n        \"has-[>[data-align=inline-start]]:[&>input]:pl-2\",\n        \"has-[>[data-align=inline-end]]:[&>input]:pr-2\",\n        \"has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3\",\n        \"has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3\",\n\n        // Focus state.\n        \"has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]\",\n\n        // Error state.\n        \"has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40\",\n\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupAddonVariants = cva(\n  \"text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50\",\n  {\n    variants: {\n      align: {\n        \"inline-start\":\n          \"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]\",\n        \"inline-end\":\n          \"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]\",\n        \"block-start\":\n          \"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5\",\n        \"block-end\":\n          \"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5\",\n      },\n    },\n    defaultVariants: {\n      align: \"inline-start\",\n    },\n  }\n)\n\nfunction InputGroupAddon({\n  className,\n  align = \"inline-start\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupAddonVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"input-group-addon\"\n      data-align={align}\n      className={cn(inputGroupAddonVariants({ align }), className)}\n      onClick={(e) => {\n        if ((e.target as HTMLElement).closest(\"button\")) {\n          return\n        }\n        e.currentTarget.parentElement?.querySelector(\"input\")?.focus()\n      }}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupButtonVariants = cva(\n  \"text-sm shadow-none flex gap-2 items-center\",\n  {\n    variants: {\n      size: {\n        xs: \"h-6 gap-1 px-2 rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-3.5 has-[>svg]:px-2\",\n        sm: \"h-8 px-2.5 gap-1.5 rounded-md has-[>svg]:px-2.5\",\n        \"icon-xs\":\n          \"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0\",\n        \"icon-sm\": \"size-8 p-0 has-[>svg]:p-0\",\n      },\n    },\n    defaultVariants: {\n      size: \"xs\",\n    },\n  }\n)\n\nfunction InputGroupButton({\n  className,\n  type = \"button\",\n  variant = \"ghost\",\n  size = \"xs\",\n  ...props\n}: Omit<React.ComponentProps<typeof Button>, \"size\"> &\n  VariantProps<typeof inputGroupButtonVariants>) {\n  return (\n    <Button\n      type={type}\n      data-size={size}\n      variant={variant}\n      className={cn(inputGroupButtonVariants({ size }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupText({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground flex items-center gap-2 text-sm [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupInput({\n  className,\n  ...props\n}: React.ComponentProps<\"input\">) {\n  return (\n    <Input\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupTextarea({\n  className,\n  ...props\n}: React.ComponentProps<\"textarea\">) {\n  return (\n    <Textarea\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupText,\n  InputGroupInput,\n  InputGroupTextarea,\n}\n",
      "type": "registry:ui"
    }
  ]
}